<h1>Рынок наличной валюты</h1>

<script type="text/javascript">
  $(document).ready(function(){
    // $.ajax({
    //     url: "https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d",
    //     dataType: 'json',
    //     //data: data,
    //     success: callback
    //     //success: function(html){
    //       //console.log(html);
    //       //$("#content").html(html);
    //     //}
    // });
    // $.ajax({
    //   url: 'https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d',
    //   data: {
    //     need_all: 1,
    //     count: 300
    //   },
    //   dataType: 'jsonp'
    // })
    // .done(function(data) {
    //   console.log(data);
    // });
    // $.ajax({
    //   url: 'https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d',
    //   dataType: 'jsonp',
    //   jsonp: 'jsoncallback',
    //   data: {
    //     tags: 'mount rainier',
    //     tagmode: 'any',
    //     format: 'json'
    //   }
    // }).done(function (data) {
    //   console.log(data);
    // });

    // $.ajax({
    //   type: "GET",
    //   url: "https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d",
    //   dataType: 'json',
    //   success: function(html) {
    //     console.log(html);
    //   }
    // });

    // $.ajax({
    //   url:"https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d/208.80.152.201",
    //   type:"GET",
    //   crossDomain : true,
    //   async: false,
    //   contentType: "application/json; charset=utf-8",
    //   dataType: "json",
    //   jsonpCallback: "myJsonMethod",
    //   success: function(json) {
    //      $.parseJson(json)
    //   },
    //   error: function(e) {
    //      console.log(e);
    //   }
    // });

    // var currencyRate = 0;
    //
    // $.ajax({
    //     url: "https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d",
    //     dataType: "jsonp",
    //     success: function(json) {
    //         currencyRate = parseInt(json.result);
    //         console.log(currencyRate);
    //     }
    // })

    // let url = 'https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d';
    // let response = await fetch(url);
    //
    // let commits = await response.json(); // читаем ответ в формате JSON
    //
    // console.log(commits);

    // fetch('https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d')
    //   .then(response => response.json())
    //   .then(commits => alert(commits[0].author.login));

    // async function f(){
    //   alert(1);
    //   try {
    //     const response = await fetch('https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d')
    //     const myJson = await response.json();
    //     console.log(JSON.stringify(myJson));
    //   } catch(err) {
    //     alert(err); // TypeError: failed to fetch
    //   }
    // }
    // f();

    // fetch('https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d', {
    //   credentials: 'include'
    // }).then(response => response.json());

    // $.get(
    //   "https://currate.ru/api/",
    //   {
    //     "get" : "rates",
    //     "pairs" : "USDRUB",
    //     "key" : "763cfb0fa49f7c16319810bbf106680d"
    //   },
    //   function(data){
    //     console.log(data);
    //   }
    // );

    $.ajax({//111111111111111   currency_list
      type: 'GET',
      url: "https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d",
      dataType:'jsonp',
      success: function(data) {
        //JSON.parse(data);
        //console.log(JSON.parse(data));
        console.log(data);
      }
      //error: function(error) {
        //console.log("FAIL....=================");
      //}
    });

    // fetch('https://currate.ru/api/?get=rates&pairs=USDRUB,EURRUB&key=763cfb0fa49f7c16319810bbf106680d')
    // .then(
    //   function(response) {
    //     if (response.status !== 200) {
    //       console.log('Looks like there was a problem. Status Code: ' +
    //         response.status);
    //       return;
    //     }
    //
    //     // Examine the text in the response
    //     response.json().then(function(data) {
    //       console.log(data);
    //     });
    //   }
    // )
    // .catch(function(err) {
    //   console.log('Fetch Error :-S', err);
    // });

  });

</script>
